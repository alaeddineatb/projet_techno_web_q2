<!DOCTYPE html>
<html lang="fr">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails du Jeu - HustleWeb</title>
    <link rel="stylesheet" href="/static/css/games.css">
    <link rel="stylesheet" href="/static/css/global.css">
</head>
<body>
    <div class="game-container">
        <div class="back-navigation">
            <a href="/browse" class="back-button">← Retour aux jeux</a>
        </div>
        
        <div class="game-header">
            <h1 id="game-title">Titre du Jeu</h1>
            <div class="game-actions">
                <button id="purchase-btn" class="btn-primary">Acheter</button>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="game-details">
                <div class="game-image">
                    <img id="game-img" src="/static/img/placeholder.jpg" alt="Image du jeu">
                </div>
                <div class="game-info">
                    <p><strong>Éditeur:</strong> <span id="game-publisher"></span></p>
                    <p><strong>Catégorie:</strong> <span id="game-category"></span></p>
                    <p><strong>Prix:</strong> <span id="game-price"></span> €</p>
                    <p><strong>Note moyenne:</strong> <span id="game-rating"></span>/5</p>
                    <div class="game-description">
                        <h3>Description</h3>
                        <p id="game-description"></p>
                    </div>
                    
                    <div class="rating-section">
                        <h3>Noter ce jeu</h3>
                        <div class="stars" id="rating-stars">
                            <span data-value="1">★</span>
                            <span data-value="2">★</span>
                            <span data-value="3">★</span>
                            <span data-value="4">★</span>
                            <span data-value="5">★</span>
                        </div>
                        <button id="submit-rating">Soumettre</button>
                    </div>
                </div>
            </div>
            
            <div class="game-forum">
                <h3>Forum du jeu</h3>
                <div class="forum-messages" id="forum-messages">
                    <div class="loading-messages">
                        <p>Chargement des messages...</p>
                    </div>
                    <!-- Messages will be loaded here -->
                </div>
                
                <div class="forum-input">
                    <textarea id="message-input" placeholder="Écrivez votre message ici..."></textarea>
                    <button id="send-message" class="btn-primary">Envoyer</button>
                </div>
                <p class="login-required-notice">Connectez-vous pour participer à la discussion</p>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Finaliser l'achat</h2>
            <p id="purchase-game-title">Titre du jeu</p>
            <p id="purchase-price">Prix: 0.00 €</p>
            
            <form id="payment-form">
                <div class="form-group">
                    <label for="card-name">Nom sur la carte</label>
                    <input type="text" id="card-name" required>
                </div>
                
                <div class="form-group">
                    <label for="card-number">Numéro de carte</label>
                    <input type="text" id="card-number" placeholder="XXXX XXXX XXXX XXXX" required maxlength="19">
                </div>
                
                <div class="form-row">
                    <div class="form-group expiry">
                        <label for="card-expiry">Date d'expiration</label>
                        <input type="text" id="card-expiry" placeholder="MM/YY" required maxlength="5">
                    </div>
                    
                    <div class="form-group cvv">
                        <label for="card-cvv">CVV</label>
                        <input type="text" id="card-cvv" placeholder="123" required maxlength="3">
                    </div>
                </div>
                
                <button type="submit" id="confirm-purchase" class="btn-primary">Confirmer l'achat</button>
            </form>
        </div>
    </div>

    <!-- Login Required Modal -->
    <div id="login-required-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Connexion requise</h2>
            <p>Vous devez être connecté pour effectuer cette action.</p>
            <div class="modal-actions">
                <button id="go-to-login" class="btn-primary">Se connecter</button>
                <button class="close-modal btn-secondary">Annuler</button>
            </div>
        </div>
    </div>

    <!-- Purchase Success Modal -->
    <div id="purchase-success-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Achat réussi!</h2>
            <p>Merci pour votre achat. Le jeu est maintenant disponible dans votre bibliothèque.</p>
            <div class="modal-actions">
                <button class="close-modal btn-primary">OK</button>
            </div>
        </div>
    </div>

    <script src="/static/js/script.js"></script>
    <script type="module" src="/static/js/games.js"></script>
    <script type="module" src="/static/js/games-data.js"></script>
</body>
</html>